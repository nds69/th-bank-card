<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>K-Bank Slip Maker</title>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600;700&family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* --- General Setup --- */
        body {
            font-family: 'Prompt', sans-serif;
            background: linear-gradient(135deg, #e0f7fa 0%, #f0f4f8 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 10px;
            box-sizing: border-box;
        }

        .container {
            background: rgba(255, 255, 255, 0.98);
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 169, 80, 0.15);
            width: 100%;
            max-width: 480px;
            border: 1px solid white;
            position: relative;
        }

        /* --- Slip Design Area --- */
        .slip-wrapper {
            width: 100%;
            background-color: #fff;
            padding: 25px 20px;
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
            /* Screen ·Äï·Ä±·Ä´·Ä∫·Äô·Äæ·Ä¨·Äô·Äº·ÄÑ·Ä∫·Äõ·Äô·Ää·Ä∑·Ä∫ ·Äï·ÄØ·Ä∂·ÄÖ·Ä∂ */
            border: 1px solid #eee; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.05); 
            margin-bottom: 25px;
            border-radius: 15px; 
        }

        /* Header Section */
        .header-section {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
            flex-wrap: nowrap;
        }

        .big-k-logo {
            font-family: 'Brush Script MT', cursive;
            font-size: 80px;
            color: #00a950;
            line-height: 0.7;
            font-weight: bold;
            font-style: italic;
            margin-right: 18px;
            flex-shrink: 0;
        }

        .vertical-line {
            width: 2px;
            height: 50px;
            background-color: #d1d1d1;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .bank-info-wrapper {
            display: flex;
            align-items: center;
            flex-grow: 1;
            justify-content: space-between; 
        }

        .bank-text {
            display: flex;
            flex-direction: column;
            justify-content: center;
            white-space: nowrap;
        }

        .thai-name {
            font-family: 'Sarabun', sans-serif;
            font-weight: 700;
            font-size: 18px;
            color: #666;
            border-bottom: 3px solid #ed1c24;
            display: inline-block;
            width: fit-content;
            line-height: 1.2;
            margin-bottom: 3px;
        }

        .eng-name {
            font-size: 10px;
            color: #999;
            font-weight: 600;
            text-transform: uppercase;
        }

        /* Logo Styling */
        .logo-container {
            width: 45px;
            height: 45px;
            flex-shrink: 0;
            margin-left: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 50%;
        }

        .fallback-logo {
            width: 40px;
            height: 40px;
            border: 2px solid #ed1c24;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #00a950;
            font-weight: bold;
            font-size: 20px;
            background: white;
        }

        /* Middle Section */
        .middle-section {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            gap: 15px;
            white-space: nowrap;
        }

        .green-label {
            background: linear-gradient(90deg, #00a950 0%, #008f44 100%);
            color: white;
            padding: 4px 8px;
            font-weight: 700;
            font-size: 13px;
            text-transform: uppercase;
            box-shadow: 0 2px 5px rgba(0, 169, 80, 0.2);
            flex-shrink: 0;
        }

        .account-number {
            font-family: 'Sarabun', sans-serif;
            font-size: clamp(20px, 5vw, 28px);
            color: #666;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        /* Bottom Section */
        .bottom-bar {
            background: linear-gradient(90deg, #00a950 0%, #008f44 100%);
            width: 100%;
            padding: 8px 10px;
            box-sizing: border-box;
            color: white;
            font-weight: 700;
            font-size: 16px;
            text-transform: uppercase;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            box-shadow: 0 3px 6px rgba(0, 169, 80, 0.2);
        }

        /* --- Input Styles --- */
        .input-group {
            margin-bottom: 15px;
            width: 100%;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: #555;
            font-weight: 600;
        }

        .input-wrapper {
            position: relative;
            width: 100%;
        }

        .input-wrapper i {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            left: 15px;
            font-size: 18px;
            color: #00a950;
            z-index: 2;
            pointer-events: none;
        }

        input {
            width: 100%;
            height: 50px;
            padding: 0 15px 0 45px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            box-sizing: border-box;
            font-family: 'Sarabun', sans-serif;
            transition: 0.3s;
            background: #f9f9f9;
        }
        
        input:focus {
            outline: none;
            border-color: #00a950;
            background: #fff;
        }

        button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(90deg, #00a950 0%, #007a37 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 169, 80, 0.3);
            margin-top: 10px;
        }

        /* --- Top Right Pop (Contact) --- */
        .contact-bubble {
            position: fixed;
            top: 20px !important; /* Force Top */
            right: 20px !important; /* Force Right */
            bottom: auto !important; /* Disable Bottom */
            background: #3b5998;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            cursor: pointer;
            z-index: 999999; 
            animation: bounce 2s infinite;
        }

        /* Modal Overlay */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2147483647; 
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            width: 280px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            animation: popIn 0.3s ease-out;
            position: relative;
        }

        .modal-btn {
            display: block;
            margin: 15px auto 0 auto;
            padding: 10px 20px;
            background: #1877f2;
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 14px;
            width: fit-content;
        }
        
        .close-btn {
            margin-top: 15px;
            color: #666;
            cursor: pointer;
            font-size: 13px;
            text-decoration: underline;
            display: block;
        }

        @keyframes popIn {
            from {transform: scale(0.8); opacity: 0;}
            to {transform: scale(1); opacity: 1;}
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(5px);}
            60% {transform: translateY(10px);}
        }

    </style>
</head>
<body>

    <div class="container">
        <h2 style="text-align: center; color: #00a950; margin: 0 0 20px 0; font-size: 20px;">
            <i class="fas fa-wallet"></i> K-Bank Slip Maker
        </h2>

        <div class="slip-wrapper" id="kbank-slip">
            
            <div class="header-section">
                <div class="big-k-logo">K</div>
                <div class="vertical-line"></div>

                <div class="bank-info-wrapper">
                    <div class="bank-text">
                        <div class="thai-name">‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏Å‡∏™‡∏¥‡∏Å‡∏£‡πÑ‡∏ó‡∏¢</div>
                        <div class="eng-name">ÂºÄÊ≥∞Èì∂Ë°å KASIKORNBANK</div>
                    </div>
                    
                    <div class="logo-container">
                        <img src="logo.png" class="logo-img" onerror="this.style.display='none'; document.getElementById('fallback').style.display='flex'">
                        <div id="fallback" class="fallback-logo" style="display:none;">üåæ</div>
                    </div>
                </div>
            </div>

            <div class="middle-section">
                <div class="green-label">KASIKORNTHAI</div>
                <div class="account-number" id="disp-num">000-000-0000</div>
            </div>

            <div class="bottom-bar" id="disp-name">
                MR. TINT AUNG KHAING
            </div>

        </div>

        <div class="controls">
            <div class="input-group">
                <label>Name (·Ä°·Äô·Ää·Ä∫)</label>
                <div class="input-wrapper">
                    <i class="fas fa-user"></i>
                    <input type="text" id="in-name" placeholder="MR. TINT AUNG KHAING" oninput="update()">
                </div>
            </div>

            <div class="input-group">
                <label>Account No (·Äî·Ä∂·Äï·Ä´·Äê·Ä∫)</label>
                <div class="input-wrapper">
                    <i class="fas fa-credit-card"></i>
                    <input type="tel" id="in-num" placeholder="000-000-0000" maxlength="12" oninput="formatNum(this)">
                </div>
            </div>

            <button onclick="download()">
                <i class="fas fa-download"></i> Download Image
            </button>
        </div>
    </div>

    <div class="contact-bubble" onclick="openModal()">
        <i class="fab fa-facebook-f"></i>
    </div>

    <div class="modal-overlay" id="contactModal">
        <div class="modal-content">
            <h3 style="color:#333; margin:0 0 10px 0; font-size:18px;">Contact Developer</h3>
            <p style="color:#666; font-size: 13px; margin:0;">
               ·Ä°·ÄÅ·Äº·Ä¨·Ä∏ Bank Card ·Ä°·Äê·ÄΩ·ÄÄ·Ä∫<br> Web Design ·Äõ·Ä±·Ä∏·ÄÜ·ÄΩ·Ä≤·Äú·Ä≠·ÄØ·Äï·Ä´·ÄÄ<br>·ÄÜ·ÄÄ·Ä∫·Äû·ÄΩ·Äö·Ä∫·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫
            </p>
            
            <a href="https://www.facebook.com/taknds69" target="_blank" class="modal-btn">
                <i class="fab fa-facebook-messenger"></i> Chat on Messenger
            </a>
            
            <span class="close-btn" onclick="closeModal()">Close</span>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <script>
        function update() {
            let name = document.getElementById('in-name').value;
            document.getElementById('disp-name').innerText = name ? name.toUpperCase() : "MR. TINT AUNG KHAING";
        }

        function formatNum(input) {
            let val = input.value.replace(/\D/g, '');
            let formatted = val;
            
            if (val.length > 6) {
                formatted = val.substring(0, 3) + '-' + val.substring(3, 6) + '-' + val.substring(6, 10);
            } else if (val.length > 3) {
                formatted = val.substring(0, 3) + '-' + val.substring(3, 6);
            }

            input.value = formatted;
            document.getElementById('disp-num').innerText = formatted || "128-128-4319";
        }

        function download() {
            const el = document.getElementById('kbank-slip');
            
            // 1. Store Original Styles
            const originalBorder = el.style.border;
            const originalShadow = el.style.boxShadow;
            const originalRadius = el.style.borderRadius;
            
            // 2. Adjust for Download (Square + Visible Border)
            el.style.borderRadius = '0'; // ·Äú·Ä±·Ä∏·Äë·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·ÄÖ·Äï·Ä∫·ÄÖ·Äï·Ä∫ ·Äñ·Äº·ÄÖ·Ä∫·ÄÖ·Ä±·Äõ·Äî·Ä∫
            el.style.border = '1px solid #dcdcdc'; // ·Ä°·Äñ·Äº·Ä∞·Äõ·Ä±·Ä¨·ÄÑ·Ä∫·Äï·Ä±·Ä´·Ä∫·Äô·Äæ·Ä¨ ·Äë·ÄÑ·Ä∫·Äõ·Äæ·Ä¨·Ä∏·ÄÖ·Ä±·Äô·Äö·Ä∑·Ä∫ ·Äò·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äï·Ä´·Ä∏
            el.style.boxShadow = '0 0 15px rgba(0,0,0,0.1)'; // ·Ä°·Äõ·Ä≠·Äï·Ä∫·Äï·Ä´·Ä∏·Äï·Ä´·Ä∏·Äú·Ä±·Ä∏ (Faint Design)

            // 3. Capture
            html2canvas(el, { 
                scale: 3, 
                backgroundColor: "#ffffff" // ·Ä°·Äñ·Äº·Ä∞·Äõ·Ä±·Ä¨·ÄÑ·Ä∫·Äî·Ä±·Ä¨·ÄÄ·Ä∫·ÄÅ·Ä∂
            }).then(canvas => {
                
                // 4. Restore UI Styles
                el.style.border = originalBorder;
                el.style.boxShadow = originalShadow;
                el.style.borderRadius = originalRadius;

                // 5. Download
                const link = document.createElement('a');
                link.download = 'k-slip-card.png';
                link.href = canvas.toDataURL("image/png");
                link.click();
            });
        }

        function openModal() {
            document.getElementById('contactModal').style.display = 'flex';
        }
        
        function closeModal() {
            document.getElementById('contactModal').style.display = 'none';
        }
    </script>
</body>
</html>
